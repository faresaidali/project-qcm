<html>
<head>
<title>Live Test</title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.0.1/socket.io.js"></script>
<script>
    socket = io();
    socket.connect('http:/127.0.0.1:5000/')
    socket.on('connect', function(){
        console.log('Client connecté');
        socket.send('a');
    })

    socket.on("connect_error", (err) => {
        console.log(`connect_error due to ${err.message}`);
    })

    socket.on("message", (msg) => {
        console.log(msg); // world
        live = document.getElementById('live_counter');
        live.innerHTML = msg;
    });
    socket.on('disconnect', function(){
        console.log('Client deconnecté');
    })
    socket.on('users', function(users) {
            userCount = document.getElementById('user_counter');
            userCount.innerHTML = users.user_count;
    })
</script>
</head>
<body>
<h1>Test</h1>
<h2>Valeur qui s'actualise</h2>
<h1 id='live_counter'></h1>
<h2>Nombre de Connexions</h2>
<h1 id='user_counter'></h1>
</body>
</html>